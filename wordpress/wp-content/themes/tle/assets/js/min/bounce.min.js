!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Bounce=t()}}(function(){return function t(n,e,r){function o(s,a){if(!e[s]){if(!n[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var p=e[s]={exports:{}};n[s][0].call(p.exports,function(t){var e=n[s][1][t];return o(e?e:t)},p,p.exports,t,n,e,r)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,n){var e,r,o;o=t("../math/matrix4d"),r={bounce:t("../easing/bounce"),sway:t("../easing/sway"),hardbounce:t("../easing/hardbounce"),hardsway:t("../easing/hardsway")},e=function(){function t(t){t||(t={}),null!=t.easing&&(this.easing=t.easing),null!=t.duration&&(this.duration=t.duration),null!=t.delay&&(this.delay=t.delay),null!=t.from&&(this.from=t.from),null!=t.to&&(this.to=t.to),this.easingObject=new r[this.easing](t)}return t.prototype.easing="bounce",t.prototype.duration=1e3,t.prototype.delay=0,t.prototype.from=null,t.prototype.to=null,t.prototype.calculateEase=function(t){return this.easingObject.calculate(t)},t.prototype.getMatrix=function(){return(new o).identity()},t.prototype.getEasedMatrix=function(){return this.getMatrix()},t.prototype.serialize=function(){var t,n,e,r;n={type:this.constructor.name.toLowerCase(),easing:this.easing,duration:this.duration,delay:this.delay,from:this.from,to:this.to},r=this.easingObject.serialize();for(t in r)e=r[t],n[t]=e;return n},t}(),n.exports=e},{"../easing/bounce":6,"../easing/hardbounce":7,"../easing/hardsway":8,"../easing/sway":10,"../math/matrix4d":13}],2:[function(t,n){var e,r,o,i,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};r=t("../math/matrix4d"),i=t("../math/vector2d"),e=t("./index"),o=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.diff=this.to-this.from}return a(n,t),n.prototype.from=0,n.prototype.to=90,n.prototype.getMatrix=function(t){var n,e,o;return e=t/180*Math.PI,n=Math.cos(e),o=Math.sin(e),new r([n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1])},n.prototype.getEasedMatrix=function(t){var n,e;return e=this.calculateEase(t),n=this.from+this.diff*e,this.getMatrix(n)},n}(e),n.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],3:[function(t,n){var e,r,o,i,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};r=t("../math/matrix4d"),i=t("../math/vector2d"),e=t("./index"),o=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.fromVector=new i(this.from.x,this.from.y),this.toVector=new i(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return a(n,t),n.prototype.from={x:.5,y:.5},n.prototype.to={x:1,y:1},n.prototype.getMatrix=function(t,n){var e;return e=1,new r([t,0,0,0,0,n,0,0,0,0,e,0,0,0,0,1])},n.prototype.getEasedMatrix=function(t){var n,e;return n=this.calculateEase(t),e=this.fromVector.clone().add(this.diff.clone().multiply(n)),this.getMatrix(e.x,e.y)},n}(e),n.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],4:[function(t,n){var e,r,o,i,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};r=t("../math/matrix4d"),i=t("../math/vector2d"),e=t("./index"),o=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.fromVector=new i(this.from.x,this.from.y),this.toVector=new i(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return a(n,t),n.prototype.from={x:0,y:0},n.prototype.to={x:20,y:0},n.prototype.getMatrix=function(t,n){var e,o,i,s;return e=t/180*Math.PI,o=n/180*Math.PI,i=Math.tan(e),s=Math.tan(o),new r([1,i,0,0,s,1,0,0,0,0,1,0,0,0,0,1])},n.prototype.getEasedMatrix=function(t){var n,e;return n=this.calculateEase(t),e=this.fromVector.clone().add(this.diff.clone().multiply(n)),this.getMatrix(e.x,e.y)},n}(e),n.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],5:[function(t,n){var e,r,o,i,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};r=t("../math/matrix4d"),i=t("../math/vector2d"),e=t("./index"),o=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.fromVector=new i(this.from.x,this.from.y),this.toVector=new i(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return a(n,t),n.prototype.from={x:0,y:0},n.prototype.to={x:0,y:0},n.prototype.getMatrix=function(t,n){var e;return e=0,new r([1,0,0,t,0,1,0,n,0,0,1,e,0,0,0,1])},n.prototype.getEasedMatrix=function(t){var n,e;return n=this.calculateEase(t),e=this.fromVector.clone().add(this.diff.clone().multiply(n)),this.getMatrix(e.x,e.y)},n}(e),n.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],6:[function(t,n){var e,r,o={}.hasOwnProperty,i=function(t,n){function e(){this.constructor=t}for(var r in n)o.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};r=t("./index"),e=function(t){function n(t){var e;null==t&&(t={}),n.__super__.constructor.apply(this,arguments),null!=t.stiffness&&(this.stiffness=t.stiffness),null!=t.bounces&&(this.bounces=t.bounces),this.alpha=this.stiffness/100,e=.005/Math.pow(10,this.stiffness),this.limit=Math.floor(Math.log(e)/-this.alpha),this.omega=this.calculateOmega(this.bounces,this.limit)}return i(n,t),n.prototype.bounces=4,n.prototype.stiffness=3,n.prototype.calculate=function(t){var n;return t>=1?1:(n=t*this.limit,1-this.exponent(n)*this.oscillation(n))},n.prototype.calculateOmega=function(){return(this.bounces+.5)*Math.PI/this.limit},n.prototype.exponent=function(t){return Math.pow(Math.E,-this.alpha*t)},n.prototype.oscillation=function(t){return Math.cos(this.omega*t)},n.prototype.serialize=function(){return{stiffness:this.stiffness,bounces:this.bounces}},n}(r),n.exports=e},{"./index":9}],7:[function(t,n){var e,r,o={}.hasOwnProperty,i=function(t,n){function e(){this.constructor=t}for(var r in n)o.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};e=t("./bounce"),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.oscillation=function(t){return Math.abs(Math.cos(this.omega*t))},n}(e),n.exports=r},{"./bounce":6}],8:[function(t,n){var e,r,o={}.hasOwnProperty,i=function(t,n){function e(){this.constructor=t}for(var r in n)o.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};r=t("./sway"),e=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.oscillation=function(t){return Math.abs(Math.sin(this.omega*t))},n}(r),n.exports=e},{"./sway":10}],9:[function(t,n){var e,r;r=t("../math/helpers"),e=function(){function t(){}return t.prototype.calculate=function(t){return t},t.prototype.serialize=function(){return{}},t.prototype.findOptimalKeyPoints=function(t,n){var e,o,i,s,a,u,p,c;for(null==t&&(t=1),null==n&&(n=1e3),a=[0],c=function(){var t,e;for(e=[],i=t=0;n>=0?n>t:t>n;i=n>=0?++t:--t)e.push(this.calculate(i/n));return e}.call(this),a=a.concat(r.findTurningPoints(c)),a.push(n-1),i=0,u=1e3;u--&&i!==a.length-1;)e=r.areaBetweenLineAndCurve(c,a[i],a[i+1]),t>=e?i++:(o=Math.round(a[i]+(a[i+1]-a[i])/2),a.splice(i+1,0,o));return 0===u?[]:p=function(){var t,e,r;for(r=[],t=0,e=a.length;e>t;t++)s=a[t],r.push(s/(n-1));return r}()},t}(),n.exports=e},{"../math/helpers":12}],10:[function(t,n){var e,r,o={}.hasOwnProperty,i=function(t,n){function e(){this.constructor=t}for(var r in n)o.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};e=t("./bounce"),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.calculate=function(t){var n;return t>=1?0:(n=t*this.limit,this.exponent(n)*this.oscillation(n))},n.prototype.calculateOmega=function(){return this.bounces*Math.PI/this.limit},n.prototype.oscillation=function(t){return Math.sin(this.omega*t)},n}(e),n.exports=r},{"./bounce":6}],11:[function(t,n){var e,r,o;o=t("./math/matrix4d"),r={scale:t("./components/scale"),rotate:t("./components/rotate"),translate:t("./components/translate"),skew:t("./components/skew")},e=function(){function t(){this.components=[]}return t.FPS=30,t.counter=1,t.prototype.components=null,t.prototype.duration=0,t.prototype.scale=function(t){return this.addComponent(new r.scale(t))},t.prototype.rotate=function(t){return this.addComponent(new r.rotate(t))},t.prototype.translate=function(t){return this.addComponent(new r.translate(t))},t.prototype.skew=function(t){return this.addComponent(new r.skew(t))},t.prototype.addComponent=function(t){return this.components.push(t),this.updateDuration(),this},t.prototype.serialize=function(){var t,n,e,r,o;for(n=[],o=this.components,e=0,r=o.length;r>e;e++)t=o[e],n.push(t.serialize());return n},t.prototype.deserialize=function(t){var n,e,o;for(e=0,o=t.length;o>e;e++)n=t[e],this.addComponent(new r[n.type](n));return this},t.prototype.updateDuration=function(){return this.duration=this.components.map(function(t){return t.duration+t.delay}).reduce(function(t,n){return Math.max(t,n)})},t.prototype.define=function(n){return this.name=n||t.generateName(),this.styleElement=document.createElement("style"),this.styleElement.innerHTML=this.getKeyframeCSS({name:this.name,prefix:!0}),document.body.appendChild(this.styleElement),this},t.prototype.applyTo=function(t,n){var e,r,o,i,s,a,u,p,c,h;for(null==n&&(n={}),this.define(),t.length||(t=[t]),s=this.getPrefixes(),r=null,window.jQuery&&window.jQuery.Deferred&&(r=new window.jQuery.Deferred),a=0,p=t.length;p>a;a++)for(o=t[a],h=s.animation,u=0,c=h.length;c>u;u++)i=h[u],e=[this.name,""+this.duration+"ms","linear","both"],n.loop&&e.push("infinite"),o.style[""+i+"animation"]=e.join(" ");return n.loop||setTimeout(function(t){return function(){return n.remove&&t.remove(),"function"==typeof n.onComplete&&n.onComplete(),r?r.resolve():void 0}}(this),this.duration),r},t.prototype.remove=function(){var t;if(this.styleElement)return this.styleElement.remove?this.styleElement.remove():null!=(t=this.styleElement.parentNode)?t.removeChild(this.styleElement):void 0},t.prototype.getPrefixes=function(t){var n,e;return n={transform:[""],animation:[""]},e=document.createElement("dummy").style,(t||!("transform"in e)&&"webkitTransform"in e)&&(n.transform=["-webkit-",""]),(t||!("animation"in e)&&"webkitAnimation"in e)&&(n.animation=["-webkit-",""]),n},t.prototype.getKeyframeCSS=function(n){var e,r,o,i,s,a,u,p,c,h,f,l,y,m,d,x,g,_;for(null==n&&(n={}),this.name=n.name||t.generateName(),u={transform:[""],animation:[""]},(n.prefix||n.forcePrefix)&&(u=this.getPrefixes(n.forcePrefix)),o=[],i=this.getKeyframes(n),x=this.keys,h=0,y=x.length;y>h;h++){for(r=x[h],s=i[r],p="matrix3d"+s,c=[],g=u.transform,f=0,m=g.length;m>f;f++)a=g[f],c.push(""+a+"transform: "+p+";");o.push(""+Math.round(100*r*100)/100+"% { "+c.join(" ")+" }")}for(e=[],_=u.animation,l=0,d=_.length;d>l;l++)a=_[l],e.push("@"+a+"keyframes "+this.name+" { \n  "+o.join("\n  ")+" \n}");return e.join("\n\n")},t.prototype.getKeyframes=function(n){var e,r,i,s,a,u,p,c,h,f,l,y,m,d,x,g,_,v,w;if(null==n&&(n={}),c=[0,1],n.optimized)for(v=this.components,l=0,x=v.length;x>l;l++)e=v[l],r=e.easingObject.findOptimalKeyPoints().map(function(t){return function(n){return n*e.duration/t.duration+e.delay/t.duration}}(this)),e.delay&&r.push(e.delay/this.duration-.001),c=c.concat(r);else for(s=Math.round(this.duration/1e3*t.FPS),a=y=0;s>=0?s>=y:y>=s;a=s>=0?++y:--y)c.push(a/s);for(c=c.sort(function(t,n){return t-n}),this.keys=[],p={},m=0,g=c.length;g>m;m++)if(u=c[m],!p[u]){for(h=(new o).identity(),w=this.components,d=0,_=w.length;_>d;d++)e=w[d],i=u*this.duration,e.delay-i>1e-8||(f=(u-e.delay/this.duration)/(e.duration/this.duration),h.multiply(e.getEasedMatrix(f)));this.keys.push(u),p[u]=h.transpose().toFixed(3)}return p},t.generateName=function(){return"animation-"+t.counter++},t.isSupported=function(){var t,n,e,r,o,i,s,a,u;for(o=document.createElement("dummy").style,r=[["transform","webkitTransform"],["animation","webkitAnimation"]],i=0,a=r.length;a>i;i++){for(e=r[i],n=!1,s=0,u=e.length;u>s;s++)t=e[s],n||(n=t in o);if(!n)return!1}return!0},t}(),n.exports=e},{"./components/rotate":2,"./components/scale":3,"./components/skew":4,"./components/translate":5,"./math/matrix4d":13}],12:[function(t,n){var e;e=function(){function t(){}return t.prototype.sign=function(t){return 0>t?-1:1},t.prototype.findTurningPoints=function(t){var n,e,r,o,i,s;for(o=[],n=i=1,s=t.length-1;s>=1?s>i:i>s;n=s>=1?++i:--i)e=this.sign(t[n]-t[n-1]),r=this.sign(t[n+1]-t[n]),e!==r&&o.push(n);return o},t.prototype.areaBetweenLineAndCurve=function(t,n,e){var r,o,i,s,a,u,p,c;for(s=e-n,p=t[n],u=t[e],r=0,i=c=0;s>=0?s>=c:c>=s;i=s>=0?++c:--c)o=t[n+i],a=p+i/s*(u-p),r+=Math.abs(a-o);return r},t}(),n.exports=new e},{}],13:[function(t,n){var e;e=function(){function t(t){this._array=(null!=t?t.slice(0):void 0)||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}return t.prototype._array=null,t.prototype.equals=function(t){return this.toString()===t.toString()},t.prototype.identity=function(){return this.setArray([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.prototype.multiply=function(n){var e,r,o,i,s,a,u,p;for(i=new t,e=a=0;4>a;e=++a)for(r=u=0;4>u;r=++u)for(o=p=0;4>p;o=++p)s=i.get(e,r)+this.get(e,o)*n.get(o,r),i.set(e,r,s);return this.copy(i)},t.prototype.transpose=function(){var t;return t=this.getArray(),this.setArray([t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]),this},t.prototype.get=function(t,n){return this.getArray()[4*t+n]},t.prototype.set=function(t,n,e){return this._array[4*t+n]=e},t.prototype.copy=function(t){return this._array=t.getArray(),this},t.prototype.clone=function(){return new t(this.getArray())},t.prototype.getArray=function(){return this._array.slice(0)},t.prototype.setArray=function(t){return this._array=t,this},t.prototype.toString=function(){return"("+this.getArray().join(", ")+")"},t.prototype.toFixed=function(t){var n;return this._array=function(){var e,r,o,i;for(o=this._array,i=[],e=0,r=o.length;r>e;e++)n=o[e],i.push(parseFloat(n.toFixed(t)));return i}.call(this),this},t}(),n.exports=e},{}],14:[function(t,n){var e;e=function(){function t(t,n){this.x=null!=t?t:0,this.y=null!=n?n:0}return t.prototype.x=0,t.prototype.y=0,t.prototype.add=function(n){return t.isVector2D(n)?(this.x+=n.x,this.y+=n.y,this):this._addScalar(n)},t.prototype._addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.subtract=function(n){return t.isVector2D(n)?(this.x-=n.x,this.y-=n.y,this):this._subtractScalar(n)},t.prototype._subtractScalar=function(t){return this._addScalar(-t)},t.prototype.multiply=function(n){return t.isVector2D(n)?(this.x*=n.x,this.y*=n.y,this):this._multiplyScalar(n)},t.prototype._multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(n){return t.isVector2D(n)?(this.x/=n.x,this.y/=n.y,this):this._divideScalar(n)},t.prototype._divideScalar=function(t){return this._multiplyScalar(1/t)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t.prototype.toFixed=function(t){return this.x=parseFloat(this.x.toFixed(t)),this.y=parseFloat(this.y.toFixed(t)),this},t.prototype.toArray=function(){return[this.x,this.y]},t.isVector2D=function(n){return n instanceof t},t}(),n.exports=e},{}]},{},[11])(11)});